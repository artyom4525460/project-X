(function(e){function t(t){for(var n,a,o=t[0],s=t[1],d=t[2],l=0,p=[];l<o.length;l++)a=o[l],Object.prototype.hasOwnProperty.call(c,a)&&c[a]&&p.push(c[a][0]),c[a]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);u&&u(t);while(p.length)p.shift()();return i.push.apply(i,d||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,o=1;o<r.length;o++){var s=r[o];0!==c[s]&&(n=!1)}n&&(i.splice(t--,1),e=a(a.s=r[0]))}return e}var n={},c={app:0},i=[];function a(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=n,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="https://cander-shopify-iframe.dev.pfrus.com//spa/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=t,o=o.slice();for(var d=0;d<o.length;d++)t(o[d]);var u=s;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0224":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAMAAABG8BK2AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAIFQTFRFAAAA////////////////////////////////////////////////////////7+/vr6+vj4+PYGBgMDAwICAgAAAAQEBAUFBQf39/v7+/////////gICAEBAQcHBwn5+fz8/P39/fkJCQX19fb29v////////oKCgsLCwT09P////7qpaeAAAACt0Uk5TADBgj6/f/8+/cBDvIEBQ//////////////+fb////////////5Cw////oB83/qAAAAMNSURBVHic3ZjZuqIwDIAR2V3Yeio4CDKKs7z/A06btIhoC+13riYXahF+krRJkzqOWjbu1vP9gIkfRtt4o7lVJUkc7YKZ7Dx3bwQ5RHOEFO+4GuL6KggY6K7TRAtZCdpPzEmzvCjJFxNCT1WdPv85L/jox+jXtKEX2nbXng/6OuPDvB+9rVMo2crbanppp6/HiwWhtRxs1QaFI4R2cwZKR0gmfoYKw/bCtz0l9UeGABXCNP8jR1J+kuqzJlIq0qk5gpK25KqFcHVJq+SgX9LypldFvKtEw8JkRtmK91TLEDQMObP5cs0onINaxy+OwVVXrqYwTgmc3dQ9Z/inva+nBMEN/RzNTerICu8+JSU5fB9GDMx1T3rtY29yxQf8V2UKA8egNBS+3KkyGTGlMLPqiTpHuCZXuInUqA56x4Mr5sowwbwBk7XHCxbKsMlFdRLp4N5KmSC9wBqJpU15YYUJWphebhXEAdUkKp2gk3dsh0Xl7CjSqo0TP6E2QiE1u87Av6rGFtNCYA0ObG+nTH+zWjqYmwcmT1sPs/gs+aePAWUa3E/BBec7MPiypchH/0/MN7kYMOXihqsSXP8hBvjtly3m9x/+GWEw5K0tpoFMMWDWyuxDE9Z/LBOF0U43EZkoviltYYhXls4pIE88GAbylq1VuOD4vpnAmFpNudhgoDgBq+zSKO6+D9g1D6iOhZM73N2Ok1KgNqtuUBnIvbIywcKEGqf1BvfIsX0QZZJhfPazMkl4Jzct2rpXZcRkBXejjVwUnOe3gjYtDdzTwM7yWtDiUmZ6ruY0ImHO2jNIO8xrKzmSMrxSnARbj75s17QeBZboLHnORbZT9+X0fiV3pGgaKrbC9YaljSjPF9q7/kY04V4Tqm0SJy1rRhSgtKNjCKta1nG++DspKeYhn9bt5ZkHhnljNxV3bOf7nPXvTVZjO3/tWjZ89rK7WAPhhv2dvr46UTxcKIs8m6yEaPkARn9eAr49LEKWQSsPXrgcPRUkWqeJlL3rvR9KRbFuelSyiYcoxCMy3xtc3RHZP/lEeGYToVpaAAAAAElFTkSuQmCC"},"0499":function(e,t,r){e.exports=r.p+"img/gift_message_active.052143e2.svg"},"0938":function(e,t,r){e.exports=r.p+"img/video_message.19ecddec.svg"},"11d8":function(e,t,r){e.exports=r.p+"img/gift_message.7b8466f2.svg"},2660:function(e,t,r){},2897:function(e,t,r){e.exports=r.p+"img/preloader.d1f64990.gif"},"2bb3":function(e,t,r){},"2c77":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAMAAABG8BK2AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAADxQTFRFAAAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAA/wAAP7BENAAAABR0Uk5TADBgj6/f/8+/cBDvIEBQn2+QsKDPVJX1AAABf0lEQVR4nN2Y2ZKEIAxFESGA6+D8/7+O2GW3jbLfpznP1imSSCAwFqbjvZCSdqTSvekin4YYjB7JYxR8KpLM2leciCVbwmVIcgTI81YSlWSKpmA4V9ZEjn5ueX1mjC1o6PMkjj4ckMq3EKlAYFMyt9/IR0+p5dlTbnn0FOXlRA2epaBGV7x68ToLkflKTOZfd2e8pmettRBpQEiO+a2pqPUHCVkMEUcs5r2cpc1yZke0ao5iTa0WoqE9wQ6DiOkVVfU++DDuJ2y7hahjBqHhzCI0lmUdbym2uubpI1s31KlBWIj+pwaUYohGITa42+KgzQDoWq5vgRoFqG0htvi2awB9y52bQ7vmuJw0R7Udp+bcqlmQVwHUxQR0TWrLzmWWaSjWir/Q1v/K3nhW2Xbst4UNdaMH8wENQqCxDDUkokbWsnpZf7C7wnPHeRORuMB+cyw6/QATfy9xyDkpSYsyH14cS/Bk13krOZm4uD9KaRMrT4jOWK1eT2RSWB57IvsDHeBeHr/T+jUAAAAASUVORK5CYII="},"322b":function(e,t,r){"use strict";r("b88c")},"3da2":function(e,t,r){"use strict";r("2bb3")},4915:function(e,t,r){e.exports=r.p+"img/cross.d5c97c7a.svg"},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23"),c=(r("b0c0"),r("c9a6")),i=r.n(c),a=r("4915"),o=r.n(a),s=r("a8ec"),d=r.n(s),u={class:"back"},l=Object(n["g"])("img",{src:i.a},null,-1),p={key:0,class:"text"},b=Object(n["g"])("img",{src:o.a},null,-1),f={key:0,class:"footer"},g=Object(n["g"])("div",{class:"powered-by"},[Object(n["g"])("span",null,"Powered by"),Object(n["g"])("img",{src:d.a})],-1);function h(e,t,r,c,i,a){var o=Object(n["w"])("router-view");return Object(n["p"])(),Object(n["d"])(n["a"],null,[Object(n["g"])("div",{class:["header",a.title?"background":""]},[Object(n["g"])("div",u,["main"!==e.$route.name?(Object(n["p"])(),Object(n["d"])("div",{key:0,onClick:t[1]||(t[1]=function(t){return e.$router.go(-1)})},[l])):Object(n["e"])("",!0)]),a.title?(Object(n["p"])(),Object(n["d"])("div",p,Object(n["z"])(a.title),1)):Object(n["e"])("",!0),Object(n["g"])("div",{class:"close",onClick:t[2]||(t[2]=function(){return a.close&&a.close.apply(a,arguments)})},[b])],2),Object(n["g"])(o,{class:[a.title?"has-title":""]},null,8,["class"]),a.title?(Object(n["p"])(),Object(n["d"])("div",f,[g])):Object(n["e"])("",!0)],64)}var v=r("1da1"),m=(r("96cf"),{hide:function(){return window.parent.modal.hide()},confirm:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",window.parent.modal.confirm(t,r,n));case 1:case"end":return e.stop()}}),e)})));function t(t,r,n){return e.apply(this,arguments)}return t}()}),j={computed:{title:function(){return this.$route.meta.title}},methods:{close:function(){m.hide()}}};r("9639");j.render=h;var O=j,A=(r("78a7"),r("a6b0"),r("6c02")),w=r("0938"),y=r.n(w),k=r("b541"),S=r.n(k),I=r("8910"),C=r.n(I),x=r("9263"),P=r.n(x),R=r("11d8"),q=r.n(R),B=r("0499"),E=r.n(B),M=Object(n["G"])("data-v-9e4ca68c");Object(n["s"])("data-v-9e4ca68c");var G={class:"page"},N={class:"top-block"},U=Object(n["g"])("div",{class:"desctop"},[Object(n["g"])("b",null,"Create a message"),Object(n["f"])(" or "),Object(n["g"])("b",null,"Pick a card"),Object(n["f"])(" and add "),Object(n["g"])("br"),Object(n["g"])("b",null,"video"),Object(n["f"])(" or "),Object(n["g"])("b",null,"audio"),Object(n["f"])(" or "),Object(n["g"])("b",null,"text"),Object(n["f"])(" to the back (you can only choose one type of message) ")],-1),D=Object(n["g"])("div",{class:"mobile"}," Create a message or pick a card and add your message to the back. ",-1),_={class:"buttons-line"},T=Object(n["g"])("img",{src:y.a},null,-1),K=Object(n["g"])("img",{src:S.a,class:"active"},null,-1),V=Object(n["f"])(" Add a video message "),W=Object(n["g"])("img",{src:C.a},null,-1),F=Object(n["g"])("img",{src:P.a,class:"active"},null,-1),Y=Object(n["f"])(" Add an audio message "),Q=Object(n["g"])("img",{src:q.a},null,-1),z=Object(n["g"])("img",{src:E.a,class:"active"},null,-1),L=Object(n["f"])(" Add a text message "),X={class:"cards-block pink-background"},Z={class:"themes-list"},H=Object(n["g"])("label",null,"Select Occasion",-1),J={class:"cards-list",id:"cardsList"};Object(n["q"])();var $=M((function(e,t,r,c,i,a){var o=Object(n["w"])("router-link");return Object(n["p"])(),Object(n["d"])("div",G,[Object(n["g"])("div",N,[U,D,Object(n["g"])("div",_,[Object(n["g"])(o,{to:{name:"video"},class:"secondary-button"},{default:M((function(){return[T,K,V]})),_:1}),Object(n["g"])(o,{to:{name:"audio"},class:"secondary-button"},{default:M((function(){return[W,F,Y]})),_:1}),Object(n["g"])(o,{to:{name:"text"},class:"secondary-button"},{default:M((function(){return[Q,z,L]})),_:1})])]),Object(n["g"])("div",X,[Object(n["g"])("div",Z,[H,Object(n["F"])(Object(n["g"])("select",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return i.category=e}),name:"themesList"},[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["v"])(i.categories,(function(e,t){return Object(n["p"])(),Object(n["d"])("option",{value:e,key:t},Object(n["z"])(e.name),9,["value"])})),128))],512),[[n["B"],i.category]])]),Object(n["g"])("div",J,[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["v"])(i.category.cards,(function(e,t){return Object(n["p"])(),Object(n["d"])("div",{key:t,class:"card-block"},[Object(n["g"])(o,{to:{name:"card-preview",params:{cardId:e.id}},class:"cander-card","data-card-id":"235"},{default:M((function(){return[Object(n["g"])("img",{src:e.media.thumbnailPath},null,8,["src"])]})),_:2},1032,["to"])])})),128))])])])})),ee=r("b85c"),te=(r("7db0"),window.cards);function re(e){if(!e)return!1;var t,r=Object(ee["a"])(te);try{for(r.s();!(t=r.n()).done;){var n=t.value,c=n.cards.find((function(t){var r=t.id;return r==e}));if(c)return c}}catch(i){r.e(i)}finally{r.f()}return!1}var ne={data:function(){return{category:te[0],categories:te}}};r("96ff");ne.render=$,ne.__scopeId="data-v-9e4ca68c";var ce=ne,ie=Object(n["G"])("data-v-1bec297e"),ae=ie((function(e,t,r,n,c,i){return" text "})),oe={props:{cardId:{type:String,required:!1}}};oe.render=ae,oe.__scopeId="data-v-1bec297e";var se=oe,de=Object(n["G"])("data-v-57a1397f");Object(n["s"])("data-v-57a1397f");var ue={class:"page pink-background"},le=Object(n["g"])("div",{class:"video-block"},[Object(n["g"])("div",{id:"canderVideoAdPipe"})],-1);Object(n["q"])();var pe=de((function(e,t,r,c,i,a){return Object(n["p"])(),Object(n["d"])("div",ue,[le])})),be=(r("99af"),"a0981400e89999c33e7856c5bbde89b9"),fe={props:{cardId:{type:String,required:!1,default:function(){return""}}},data:function(){return{pipeParams:{size:{width:640,height:510},qualityurl:"avq/480p.xml",accountHash:be,eid:"ESVoM9",mrt:120,dpv:0,dup:1,asv:1}}},mounted:function(){var e=this,t=function(t,r){e.$router.push({name:"result",params:{url:"https://".concat(t,"/").concat(be,"/").concat(r,".mp4"),image:"https://".concat(t,"/").concat(be,"/").concat(r,".jpg"),type:"Video",cardId:e.cardId}})};window.PipeSDK.insert("canderVideoAdPipe",this.pipeParams,(function(e){e.onSaveOk=function(e,r,n,c,i){t(i,r)},e.onVideoUploadSuccess=function(e,r,n,c,i,a){t(a,r)},e.onDesktopVideoUploadSuccess=function(e,r,n,c,i,a){t(a,r)}}))}};r("cf13");fe.render=pe,fe.__scopeId="data-v-57a1397f";var ge=fe;function he(e,t,r,c,i,a){return Object(n["p"])(),Object(n["d"])(Object(n["x"])(i.component),{cardId:r.cardId},null,8,["cardId"])}var ve=Object(n["G"])("data-v-271bd7ca");Object(n["s"])("data-v-271bd7ca");var me={class:"page pink-background"},je=Object(n["g"])("div",{class:"audio-block"},[Object(n["g"])("div",{id:"canderAudiAdPipe"})],-1);Object(n["q"])();var Oe=ve((function(e,t,r,c,i,a){return Object(n["p"])(),Object(n["d"])("div",me,[je])})),Ae="a0981400e89999c33e7856c5bbde89b9",we={props:{cardId:{type:String,required:!1,default:function(){return""}}},data:function(){return{pipeParams:{size:{width:640,height:390},qualityurl:"avq/360p.xml",accountHash:Ae,eid:"ESVoM9",mrt:120,ao:1,dup:1}}},mounted:function(){var e=this,t=function(t,r){console.log(e.cardId),e.$router.push({name:"result",params:{url:"https://".concat(t,"/").concat(Ae,"/").concat(r,".mp4"),type:"Audio",cardId:e.cardId}})};window.PipeSDK.insert("canderAudiAdPipe",this.pipeParams,(function(e){e.onSaveOk=function(e,r,n,c,i,a,o,s,d,u,l){t(l,r)},e.onVideoUploadSuccess=function(e,r,n,c,i,a){t(a,r)},e.onDesktopVideoUploadSuccess=function(e,r,n,c,i,a){t(a,r)}}))}};r("ef9d");we.render=Oe,we.__scopeId="data-v-271bd7ca";var ye=we,ke=r("0224"),Se=r.n(ke),Ie=r("2c77"),Ce=r.n(Ie),xe=Object(n["G"])("data-v-f54d9b10");Object(n["s"])("data-v-f54d9b10");var Pe={class:"page pink-background"},Re={class:"audio-block vertical-block"},qe={class:"col"},Be={src:Se.a},Ee={src:Ce.a},Me={class:"msg"};Object(n["q"])();var Ge=xe((function(e,t,r,c,i,a){var o=Object(n["w"])("error");return Object(n["p"])(),Object(n["d"])("div",Pe,[Object(n["g"])(o,{message:e.error},null,8,["message"]),Object(n["g"])("div",Re,[Object(n["g"])("div",qe,[Object(n["g"])("div",{onClick:t[1]||(t[1]=function(){return a.startRecording&&a.startRecording.apply(a,arguments)})},[Object(n["F"])(Object(n["g"])("img",Be,null,512),[[n["D"],!i.recording]]),Object(n["F"])(Object(n["g"])("img",Ee,null,512),[[n["D"],i.recording]])]),Object(n["F"])(Object(n["g"])("div",Me,"Recording...",512),[[n["D"],i.recording]])])])])})),Ne=Object(n["G"])("data-v-c956ecf0");Object(n["s"])("data-v-c956ecf0");var Ue={key:0,class:"error"};Object(n["q"])();var De=Ne((function(e,t,r,c,i,a){return r.message?(Object(n["p"])(),Object(n["d"])("div",Ue,Object(n["z"])(r.message),1)):Object(n["e"])("",!0)})),_e={props:{message:{type:String}}};r("5983");_e.render=De,_e.__scopeId="data-v-c956ecf0";var Te=_e,Ke=r("d4ec"),Ve=r("bee2"),We=(r("d3b7"),r("3ca3"),r("ddb0"),r("2b3d"),r("159b"),function(){function e(){Object(Ke["a"])(this,e),window.AudioContext=window.AudioContext||window.webkitAudioContext,this.em=document.createDocumentFragment(),this.state="inactive",this.chunks=[],this.chunkType="",this.encoderMimeType="audio/wav",this.config={manualEncoderId:"wav",micGain:1,processorBufferSize:2048,stopTracksAndCloseCtxWhenFinished:!0,usingMediaRecorder:"undefined"!==typeof window.MediaRecorder,userMediaConstraints:{audio:{echoCancellation:!1}}}}return Object(Ve["a"])(e,[{key:"startRecording",value:function(){var e=this;if("inactive"===this.state){if(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)return this.audioCtx=new AudioContext,this.micGainNode=this.audioCtx.createGain(),this.outputGainNode=this.audioCtx.createGain(),this.config.usingMediaRecorder||(this.processorNode=this.audioCtx.createScriptProcessor(this.config.processorBufferSize,1,1)),this.audioCtx.createMediaStreamDestination?this.destinationNode=this.audioCtx.createMediaStreamDestination():this.destinationNode=this.audioCtx.destination,this.config.usingMediaRecorder||(this.encoderWorker=new Worker("./encoder-wav-worker.js"),this.encoderMimeType="audio/wav",this.encoderWorker.addEventListener("message",(function(t){var r=new Event("dataavailable");r.data=new Blob(t.data,{type:e.encoderMimeType}),e._onDataAvailable(r)}))),navigator.mediaDevices.getUserMedia(this.config.userMediaConstraints).then((function(t){e._startRecordingWithStream(t)})).catch((function(e){alert("Error with getUserMedia: "+e.message),console.log(e)}));alert("Missing support for navigator.mediaDevices.getUserMedia")}}},{key:"_startRecordingWithStream",value:function(e){var t=this;this.micAudioStream=e,this.inputStreamNode=this.audioCtx.createMediaStreamSource(this.micAudioStream),this.audioCtx=this.inputStreamNode.context,this.onGraphSetupWithInputStream&&this.onGraphSetupWithInputStream(this.inputStreamNode),this.inputStreamNode.connect(this.micGainNode),this.micGainNode.gain.setValueAtTime(this.config.micGain,this.audioCtx.currentTime);var r=this.micGainNode;this.state="recording",this.processorNode?(r.connect(this.processorNode),this.processorNode.connect(this.outputGainNode),this.processorNode.onaudioprocess=function(e){return t._onAudioProcess(e)}):r.connect(this.outputGainNode),this.outputGainNode.connect(this.destinationNode),this.config.usingMediaRecorder?(this.mediaRecorder=new MediaRecorder(this.destinationNode.stream),this.mediaRecorder.addEventListener("dataavailable",(function(e){return t._onDataAvailable(e)})),this.mediaRecorder.addEventListener("error",(function(e){return t._onError(e)})),this.mediaRecorder.start()):this.outputGainNode.gain.setValueAtTime(0,this.audioCtx.currentTime)}},{key:"_onAudioProcess",value:function(e){this.config.broadcastAudioProcessEvents&&this.em.dispatchEvent(new CustomEvent("onaudioprocess",{detail:{inputBuffer:e.inputBuffer,outputBuffer:e.outputBuffer}})),this.config.usingMediaRecorder||"recording"===this.state&&(this.config.broadcastAudioProcessEvents?this.encoderWorker.postMessage(["encode",e.outputBuffer.getChannelData(0)]):this.encoderWorker.postMessage(["encode",e.inputBuffer.getChannelData(0)]))}},{key:"stopRecording",value:function(){"inactive"!==this.state&&(this.config.usingMediaRecorder?(this.state="inactive",this.mediaRecorder.stop()):(this.state="inactive",this.encoderWorker.postMessage(["dump",this.audioCtx.sampleRate])))}},{key:"_onDataAvailable",value:function(e){if(this.chunks.push(e.data),this.chunkType=e.data.type,"inactive"===this.state){var t=new Blob(this.chunks,{type:"audio/wav"}),r=URL.createObjectURL(t),n={ts:(new Date).getTime(),blobUrl:r,mimeType:t.type,size:t.size},c=new window.FileReader;c.readAsDataURL(t),c.onloadend=function(){var e=c.result;n.blob=e},this.chunks=[],this.chunkType=null,this.destinationNode&&(this.destinationNode.disconnect(),this.destinationNode=null),this.outputGainNode&&(this.outputGainNode.disconnect(),this.outputGainNode=null),this.processorNode&&(this.processorNode.disconnect(),this.processorNode=null),this.encoderWorker&&(this.encoderWorker.postMessage(["close"]),this.encoderWorker=null),this.micGainNode&&(this.micGainNode.disconnect(),this.micGainNode=null),this.inputStreamNode&&(this.inputStreamNode.disconnect(),this.inputStreamNode=null),this.config.stopTracksAndCloseCtxWhenFinished&&(this.micAudioStream.getTracks().forEach((function(e){return e.stop()})),this.micAudioStream=null,this.audioCtx.close(),this.audioCtx=null),this.em.dispatchEvent(new CustomEvent("recording",{detail:{recording:n}}))}}},{key:"_onError",value:function(e){console.log("error",e),this.em.dispatchEvent(new Event("error"))}}]),e}()),Fe={props:{cardId:{type:String,required:!1,default:function(){return""}}},components:{Error:Te},data:function(){return{recording:!1,recorderSrvc:new We}},created:function(){var e=this;this.recorderSrvc.em.addEventListener("recording",(function(t){setTimeout((function(){e.$router.push({name:"result",params:{file:t.detail.recording.blob,type:"Audio",cardId:e.cardId}})}),1e3)}))},methods:{startRecording:function(){this.recording=!this.recording,this.recording?this.recorderSrvc.startRecording():this.recorderSrvc.stopRecording()}}};r("3da2");Fe.render=Ge,Fe.__scopeId="data-v-f54d9b10";var Ye=Fe,Qe=(r("ac1f"),r("466d"),r("a434"),function(){if(window.MSStream||!/iPad|iPhone|iPod/.test(navigator.userAgent))return!1;var e,t=navigator.userAgent,r=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(r[1])?(e=/\brv[ :]+(\d+)/g.exec(t)||[],!1):("Chrome"!==r[1]||(e=t.match(/\b(OPR|Edge)\/(\d+)/),null==e))&&(r=r[2]?[r[1],r[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&r.splice(1,1,e[1]),"Safari"==r[0]&&parseInt(r[1])>=14)}),ze={props:{cardId:{type:String,required:!1,default:function(){return""}}},components:{DefaultComponent:ye,SafaryComponent:Ye},data:function(){return{component:Qe()?"safary-component":"default-component"}}};ze.render=he;var Le=ze,Xe=Object(n["G"])("data-v-19d9ef51");Object(n["s"])("data-v-19d9ef51");var Ze={class:"page"},He={class:"button-block-result"},Je={class:"inputs-block"},$e={class:"input-field"},et=Object(n["g"])("div",{class:"result-text"}," The recipient will use their number to securely access this message after scanning the QR code delivered with the gift. ",-1);Object(n["q"])();var tt=Xe((function(e,t,r,c,i,a){var o=Object(n["w"])("error");return Object(n["p"])(),Object(n["d"])("div",Ze,[(Object(n["p"])(),Object(n["d"])(Object(n["x"])(i.componentPreview),{url:i.urlPreview,file:i.filePreview,image:i.imagePreview,cardId:i.cardIdPreview},null,8,["url","file","image","cardId"])),Object(n["g"])("div",He,[Object(n["g"])("div",Je,[Object(n["g"])("div",$e,[Object(n["F"])(Object(n["g"])("input",{ref:"number","onUpdate:modelValue":t[1]||(t[1]=function(e){return i.phone=e}),placeholder:"Recipientâ€™s phone number (required)",onCountrychange:t[2]||(t[2]=function(e){return a.countrychange(i.iti.getSelectedCountryData())})},null,544),[[n["C"],i.phone]]),Object(n["g"])(o,{message:i.validError},null,8,["message"])])]),et,i.iti?(Object(n["p"])(),Object(n["d"])(Object(n["x"])(i.componentButtons),{key:0,url:i.urlPreview,file:i.filePreview,cardId:i.cardIdPreview,onOnConfirm:a.onConfirm},null,8,["url","file","cardId","onOnConfirm"])):Object(n["e"])("",!0),Object(n["g"])(o,{message:i.confirmError},null,8,["message"])])])})),rt=r("2897"),nt=r.n(rt),ct=Object(n["G"])("data-v-66c5a437");Object(n["s"])("data-v-66c5a437");var it={class:"result-items"},at={key:0,class:"result-item result-item-image"},ot=Object(n["g"])("div",{class:"card-title"},"Front",-1),st={class:"result-item item-source"},dt={key:0,class:"preloader"},ut=Object(n["g"])("img",{src:nt.a},null,-1),lt={key:2,class:"card-title"};Object(n["q"])();var pt=ct((function(e,t,r,c,i,a){return Object(n["p"])(),Object(n["d"])("div",it,[a.card?(Object(n["p"])(),Object(n["d"])("div",at,[Object(n["g"])("img",{src:a.card.media.path},null,8,["src"]),ot])):Object(n["e"])("",!0),Object(n["g"])("div",st,[i.loading?(Object(n["p"])(),Object(n["d"])("div",dt,[ut])):(Object(n["p"])(),Object(n["d"])("video",{key:1,controls:"",poster:r.image},[Object(n["g"])("source",{src:r.url},null,8,["src"])],8,["poster"])),a.card?(Object(n["p"])(),Object(n["d"])("div",lt,"Back")):Object(n["e"])("",!0)])])})),bt={checkUrl:function(e){return window.parent.api.checkUrl(e)}},ft={props:{url:{type:String,required:!1},file:{type:String,required:!1},image:{type:String,required:!1},cardId:{type:String,required:!1}},data:function(){return{loading:!0}},created:function(){var e=this;this.loading=!0,this.checkUrl((function(t){t?e.loading=!1:e.checkUrl()}))},computed:{card:function(){return re(this.cardId)}},methods:{checkUrl:function(e){bt.checkUrl(this.url).then(e).catch(e)}}};r("cfc7");ft.render=pt,ft.__scopeId="data-v-66c5a437";var gt=ft,ht=Object(n["G"])("data-v-802b5ca4");Object(n["s"])("data-v-802b5ca4");var vt={class:"button-block"},mt=Object(n["f"])(" Confirm "),jt={key:0,class:"preloader"},Ot=Object(n["g"])("img",{src:nt.a},null,-1);Object(n["q"])();var At=ht((function(e,t,r,c,i,a){return Object(n["p"])(),Object(n["d"])("div",vt,[Object(n["g"])("a",{href:"#",class:"button secondary-button edit-button",onClick:t[1]||(t[1]=function(){return a.toAgain&&a.toAgain.apply(a,arguments)})}," Record again "),Object(n["g"])("a",{href:"#",class:"button primary-button confirm-button",onClick:t[2]||(t[2]=function(){return a.confirm&&a.confirm.apply(a,arguments)})},[mt,i.loading?(Object(n["p"])(),Object(n["d"])("span",jt,[Ot])):Object(n["e"])("",!0)])])})),wt={props:{url:{type:String,required:!1},file:{type:String,required:!1},cardId:{type:String,required:!1}},data:function(){return{loading:!1}},methods:{toAgain:function(){var e=this.cardId;this.$router.push({name:"video",params:e?{cardId:e}:{}})},confirm:function(){var e=this;this.loading=!0,this.$emit("onConfirm",(function(){e.loading=!1}))}}};r("cc1d");wt.render=At,wt.__scopeId="data-v-802b5ca4";var yt=wt,kt=Object(n["G"])("data-v-b44c87a6");Object(n["s"])("data-v-b44c87a6");var St={class:"result-items"},It={key:0,class:"result-item result-item-image"},Ct=Object(n["g"])("div",{class:"card-title"},"Front",-1),xt={class:"result-item item-source"},Pt={class:"background"},Rt={key:0,class:"preloader"},qt=Object(n["g"])("img",{src:nt.a},null,-1),Bt={key:1,controls:""},Et={key:0,class:"card-title"};Object(n["q"])();var Mt=kt((function(e,t,r,c,i,a){return Object(n["p"])(),Object(n["d"])("div",St,[a.card?(Object(n["p"])(),Object(n["d"])("div",It,[Object(n["g"])("img",{src:a.card.media.path},null,8,["src"]),Ct])):Object(n["e"])("",!0),Object(n["g"])("div",xt,[Object(n["g"])("div",Pt,[i.loading?(Object(n["p"])(),Object(n["d"])("div",Rt,[qt])):Object(n["e"])("",!0),i.loading?Object(n["e"])("",!0):(Object(n["p"])(),Object(n["d"])("audio",Bt,[Object(n["g"])("source",{src:r.url||r.file},null,8,["src"])]))]),a.card?(Object(n["p"])(),Object(n["d"])("div",Et,"Back")):Object(n["e"])("",!0)])])})),Gt={props:{url:{type:String,required:!1},file:{type:String,required:!1},cardId:{type:String,required:!1}},data:function(){return{loading:!1}},created:function(){var e=this;console.log(this.card),this.url&&(this.loading=!0,this.checkUrl((function(t){t?e.loading=!1:e.checkUrl()})))},computed:{card:function(){return re(this.cardId)}},methods:{checkUrl:function(e){bt.checkUrl(this.url).then(e).catch(e)}}};r("a165");Gt.render=Mt,Gt.__scopeId="data-v-b44c87a6";var Nt=Gt,Ut=Object(n["G"])("data-v-a913f8e4");Object(n["s"])("data-v-a913f8e4");var Dt={class:"button-block"},_t=Object(n["f"])(" Confirm "),Tt={key:0,class:"preloader"},Kt=Object(n["g"])("img",{src:nt.a},null,-1);Object(n["q"])();var Vt=Ut((function(e,t,r,c,i,a){return Object(n["p"])(),Object(n["d"])("div",Dt,[Object(n["g"])("a",{href:"#",class:"button secondary-button edit-button",onClick:t[1]||(t[1]=function(){return a.toAgain&&a.toAgain.apply(a,arguments)})}," Record again "),Object(n["g"])("a",{href:"#",class:"button primary-button confirm-button",onClick:t[2]||(t[2]=function(){return a.confirm&&a.confirm.apply(a,arguments)})},[_t,i.loading?(Object(n["p"])(),Object(n["d"])("span",Tt,[Kt])):Object(n["e"])("",!0)])])})),Wt={props:{url:{type:String,required:!1},file:{type:String,required:!1},cardId:{type:String,required:!1}},data:function(){return{loading:!1}},methods:{toAgain:function(){var e=this.cardId;this.$router.push({name:"audio",params:e?{cardId:e}:{}})},confirm:function(){var e=this;this.loading=!0,this.$emit("onConfirm",(function(){e.loading=!1}))}}};r("cdd8");Wt.render=Vt,Wt.__scopeId="data-v-a913f8e4";var Ft=Wt,Yt=r("0d16"),Qt=r("05f3"),zt=r.n(Qt),Lt={components:{VideoPreview:gt,VideoButtons:yt,AudioPreview:Nt,AudioButtons:Ft,Error:Te},props:{file:{type:String,required:!1},url:{type:String,required:!1},image:{type:String,required:!1},type:{type:String,required:!1},cardId:{type:String,required:!1}},data:function(){return{phone:"",code:"",iti:null,validError:"",confirmError:"",componentPreview:"".concat(this.type,"Preview"),componentButtons:"".concat(this.type,"Buttons"),typePreview:this.type,imagePreview:this.image,urlPreview:this.url,filePreview:this.file,cardIdPreview:this.cardId||null}},computed:{phonePreview:function(){return"+".concat(this.code).concat(this.phone)},mediaPreview:function(){return{url:this.urlPreview||null,type:this.typePreview||null,file:this.filePreview||null}}},mounted:function(){Object(Yt["a"])(this.$refs.number,{mask:"000000000000"}),this.iti=zt()(this.$refs.number,{initialCountry:"auto",separateDialCode:!0,geoIpLookup:function(e){window.$.get("https://ipinfo.io",(function(){}),"jsonp").always((function(t){e(t&&t.country?t.country:"us")}))}})},methods:{valid:function(){this.validError="",this.phone.length<9&&(this.validError="Please fill in this field with valid phone")},countrychange:function(e){var t=e.dialCode;this.code=t},onConfirm:function(e){this.valid(),this.validError?e():m.confirm(this.cardIdPreview,this.mediaPreview,this.phonePreview).finally(e)}}};r("9484");Lt.render=tt,Lt.__scopeId="data-v-19d9ef51";var Xt=Lt,Zt=Object(n["G"])("data-v-21331e9f");Object(n["s"])("data-v-21331e9f");var Ht={class:"page"},Jt={class:"chosen-card-front"},$t={class:"chosen-card-back"},er={class:"chosen-card-back-wrap"},tr={class:"chosen-card-back-buttons"},rr=Object(n["g"])("img",{src:y.a},null,-1),nr=Object(n["g"])("img",{src:S.a,class:"active"},null,-1),cr=Object(n["f"])(" Add a video message "),ir=Object(n["g"])("img",{src:C.a},null,-1),ar=Object(n["g"])("img",{src:P.a,class:"active"},null,-1),or=Object(n["f"])(" Add an audio message "),sr=Object(n["g"])("img",{src:q.a},null,-1),dr=Object(n["g"])("img",{src:E.a,class:"active"},null,-1),ur=Object(n["f"])(" Add a text message "),lr={class:"button-block"};Object(n["q"])();var pr=Zt((function(e,t,r,c,i,a){var o=Object(n["w"])("router-link");return Object(n["p"])(),Object(n["d"])("div",Ht,[Object(n["g"])("div",{class:{"chosen-card":!0,rotate:i.rotate}},[Object(n["g"])("div",Jt,[Object(n["g"])("img",{src:a.card.media.path},null,8,["src"])]),Object(n["g"])("div",$t,[Object(n["g"])("div",er,[Object(n["g"])("div",tr,[Object(n["g"])(o,{to:{name:"video",params:{cardId:a.card.id}},id:"createVideoMessage",class:"secondary-button"},{default:Zt((function(){return[rr,nr,cr]})),_:1},8,["to"]),Object(n["g"])(o,{to:{name:"audio",params:{cardId:a.card.id}},id:"createAudioMessage",class:"secondary-button"},{default:Zt((function(){return[ir,ar,or]})),_:1},8,["to"]),Object(n["g"])(o,{to:{name:"text",params:{cardId:a.card.id}},id:"createGiftMessage",class:"secondary-button"},{default:Zt((function(){return[sr,dr,ur]})),_:1},8,["to"])])])])],2),Object(n["g"])("div",lr,[i.rotate?Object(n["e"])("",!0):(Object(n["p"])(),Object(n["d"])("a",{key:0,href:"#",onClick:t[1]||(t[1]=function(){return a.toRotate&&a.toRotate.apply(a,arguments)}),class:"button primary-button"}," Add my message "))])])})),br={props:{cardId:{type:String,required:!1}},data:function(){return{rotate:!1}},computed:{card:function(){return re(this.cardId)}},methods:{toRotate:function(){this.rotate=!0}}};r("322b");br.render=pr,br.__scopeId="data-v-21331e9f";var fr=br,gr=[{name:"main",path:"/",component:ce,meta:{title:"Add Virtual Gift Message"}},{name:"text",path:"/text/:cardId?",component:se,props:function(e){return e.params}},{name:"video",path:"/video/:cardId?",component:ge,props:function(e){return e.params}},{name:"audio",path:"/audio/:cardId?",component:Le,props:function(e){return e.params}},{name:"card-preview",path:"/card/preview/:cardId",component:fr,meta:{title:"Add Virtual Gift Message"},props:function(e){return e.params}},{name:"result",path:"/result/:cardId?",component:Xt,meta:{title:"Confirm Message"},props:function(e){return e.params}}],hr=A["a"]({history:A["b"]("/apps/proxy/getIframe"),routes:gr}),vr=hr;Object(n["c"])(O).use(vr).mount("#app")},5983:function(e,t,r){"use strict";r("877a")},"5bd7":function(e,t,r){},"5eb7":function(e,t,r){},"6c38":function(e,t,r){},"78a7":function(e,t,r){},"7f89":function(e,t,r){},"877a":function(e,t,r){},8910:function(e,t,r){e.exports=r.p+"img/audio_message.b22089f6.svg"},9263:function(e,t,r){e.exports=r.p+"img/audio_message_active.725f3e2d.svg"},9484:function(e,t,r){"use strict";r("5eb7")},9639:function(e,t,r){"use strict";r("7f89")},"96ff":function(e,t,r){"use strict";r("6c38")},a165:function(e,t,r){"use strict";r("a8a8")},a8a8:function(e,t,r){},a8ec:function(e,t,r){e.exports=r.p+"img/cander_logo.514f6ebf.svg"},aa9c:function(e,t,r){},b541:function(e,t,r){e.exports=r.p+"img/video_message_active.91e6982f.svg"},b88c:function(e,t,r){},c9a6:function(e,t,r){e.exports=r.p+"img/back.81acef96.svg"},cc1d:function(e,t,r){"use strict";r("d56a")},cdd8:function(e,t,r){"use strict";r("5bd7")},cf13:function(e,t,r){"use strict";r("2660")},cfc7:function(e,t,r){"use strict";r("aa9c")},d56a:function(e,t,r){},e7d9:function(e,t,r){},ef9d:function(e,t,r){"use strict";r("e7d9")}});
//# sourceMappingURL=app.3bbad159.js.map